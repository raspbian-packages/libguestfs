.\" Automatically generated by Podwrapper::Man 1.50.1 (Pod::Simple 3.43)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "guestfs-release-notes-1.24 1"
.TH guestfs-release-notes-1.24 1 "2023-02-21" "libguestfs-1.50.1" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
guestfs-release-notes \- нотатки щодо випусків libguestfs
.SH "НОТАТКИ ЩОДО ВИПУСКУ LIBGUESTFS 1.24"
.IX Header "НОТАТКИ ЩОДО ВИПУСКУ LIBGUESTFS 1.24"
Ці нотатки щодо випуску стосуються лише відмінностей від попереднього стабільного випуску (1.22.0). Докладний журнал змін є частиною журналу змін сховища git. Його також наведено у файлі ChangeLog, який є частиною архіву tar із кодом бібліотеки.
.SS "Нові можливості"
.IX Subsection "Нові можливості"
Можна використовувати User-Mode Linux (\s-1UML\s0) як альтернативний модуль обробки (замість \s-1KVM\s0). Використання цього модуля поліпшує швидкодію, особливо, якщо libguestfs використовується у віртуальній машині (наприклад, у хмарі). Підтримка \s-1UML\s0 здійснюється як для основного модуля. Див. \*(L"МОДУЛЬ USER-MODE \s-1LINUX\*(R"\s0 in \fBguestfs\fR\|(3), щоб дізнатися про цей модуль більше.
.PP
Тепер повністю підтримуються архітектури \s-1ARM\s0 (32\-бітова) та \s-1PPC64.\s0
.PP
\fIІнструменти\fR
.IX Subsection "Інструменти"
.PP
\&\fBvirt\-builder\fR\|(1) — новий інструмент для збирання образів для віртуальних машин. За його допомогою ви можете швидко і безпечно створювати і налаштовувати гостьові системи.
.PP
Нові дії у \fBvirt\-sysprep\fR\|(1): вилучення файлів у \fI/tmp\fR і \fI/var/tmp\fR. Вилучення файлів баз даних \s-1RPM.\s0 Зміна паролів root та користувача. Вилучається більше файлів журналів. Нові дії, які типово не увімкнено: створення випадкових \s-1UUID\s0 для файлових систем. Скидання правил брандмауера. (Wanlong Gao)
.PP
\&\fBvirt\-resize\fR\|(1) та virt-sysprep тепер можуть використовувати адреси для визначення віддаленого диска.
.PP
Реалізовано використання \f(CW\*(C`guestfish \-N назва_файла=тип\*(C'\fR для створення іменованого образу диска (замість типового \fItest1.img\fR тощо).
.PP
\&\fBvirt\-sparsify\fR\|(1) тепер перевіряє, чи достатньо місця на диску для завершення дії. Тепер неможлива ситуація, коли місце вичерпується під час виконання завдання.
.PP
\&\fBvirt\-format\fR\|(1) і \fBvirt\-make\-fs\fR\|(1): новий параметр \fI\-\-label\fR для встановлення мітки файлової системи.
.PP
Тепер можна скористатися прапорцем virt-resize \fI\-\-no\-sparse\fR для зміни розмірів на розділи або інші незанулені місця.
.PP
\fIПрив’язки до мов програмування\fR
.IX Subsection "Прив’язки до мов програмування"
.PP
Нові прив'язки до мови програмування Go.
.PP
\fI\s-1API\s0\fR
.IX Subsection "API"
.PP
Підтримка журналу systemd.
.PP
\&\f(CW\*(C`guestfs_add_drive_opts\*(C'\fR тепер може контролювати режим кешування qemu за допомогою нового параметра \f(CW\*(C`cachemode\*(C'\fR. Ви можете вибрати поліпшену швидкодію для тимчасових дисків або надійний захист.
.PP
\&\f(CW\*(C`guestfs_set_label\*(C'\fR тепер працює з \s-1XFS\s0 і btrfs.
.PP
Нова подія \s-1GUESTFS_EVENT_WARNING\s0 для повідомлень із попередженнями.
.PP
\fIПеревірка\fR
.IX Subsection "Перевірка"
.PP
Поліпшено інспектування гостьових систем \s-1SUSE\s0 (Olaf Hering).
.PP
Поліпшено підтримку нестандартних \f(CW%systemroot\fR% у Windows (Matthew Booth).
.PP
Удосконалено звітування про помилки у Augeas.
.SS "Безпека"
.IX Subsection "Безпека"
.IP "\s-1CVE\-2013\-2124\s0" 4
.IX Item "CVE-2013-2124"
https://bugzilla.redhat.com/show_bug.cgi?id=968306
.Sp
Була можливою відмова у обслуговування під час інспектування певних гостьових систем. Виправлення зворотно портовано на гілки 1.20 і 1.22.
.IP "\s-1CVE\-2013\-4419\s0" 4
.IX Item "CVE-2013-4419"
https://www.redhat.com/archives/libguestfs/2013\-October/msg00031.html
.Sp
Виправлено незахищену обробку тимчасових каталогів для віддалених guestfish. Виправлення зворотно портовано на гілки 1.20 і 1.22.
.SS "Нові програмні інтерфейси"
.IX Subsection "Нові програмні інтерфейси"
.Vb 12
\& add\-drive\-scratch: додавання тимчасового диска
\& aug\-label
\& aug\-setm
\& journal\-open: підтримка журналу Systemd
\& journal\-close
\& journal\-next
\& journal\-skip
\& journal\-get
\& journal\-get\-data\-threshold
\& journal\-set\-data\-threshold
\& remount: уможливлення коригування прапорця rw для змонтованих файлових систем
\& set\-uuid: встановлення UUID файлової системи
.Ve
.PP
У програмних інтерфейсів \f(CW\*(C`is\-file\*(C'\fR, \f(CW\*(C`is\-dir\*(C'\fR, \f(CW\*(C`is\-blockdev\*(C'\fR, \f(CW\*(C`is\-chardev\*(C'\fR, \f(CW\*(C`is\-fifo\*(C'\fR, \f(CW\*(C`is\-socket\*(C'\fR тепер з'явився додатковий прапорець \f(CW\*(C`followsymlinks\*(C'\fR.
.PP
У \f(CW\*(C`add\-drive\*(C'\fR передбачено новий параметр \f(CW\*(C`cachemode\*(C'\fR.
.SS "Зміни у збиранні"
.IX Subsection "Зміни у збиранні"
Для збирання libguestfs 1.24 потрібні такі пакунки:
.IP "Augeas ≥ 1.0.0" 4
.IX Item "Augeas ≥ 1.0.0"
.PP
Вказаними нижче пакунками можна скористатися для розширення можливостей, але вони не є обов'язковими:
.IP "sd-journal" 4
.IX Item "sd-journal"
Для читання файлів журналів з гостьових систем, де використовуються журнали.
.IP "url_mkcow" 4
.IX Item "url_mkcow"
Для модуля обробки \s-1UML.\s0
.IP "curl" 4
.IX Item "curl"
.PD 0
.IP "gpg" 4
.IX Item "gpg"
.IP "xz" 4
.IX Item "xz"
.PD
Для virt-builder.
.IP "golang ≥ 1.1.1" 4
.IX Item "golang ≥ 1.1.1"
Для прив’язок до мови Go.
.SS "Внутрішня частина роботи програми"
.IX Subsection "Внутрішня частина роботи програми"
Нові правила \f(CW\*(C`make check\-*\*(C'\fR, які замінили \f(CW\*(C`make extra\-tests\*(C'\fR. Докладніший опис можна отримати за допомогою команди \f(CW\*(C`make help\*(C'\fR і сторінки підручника \fBguestfs\fR\|(3).
.PP
Тепер можна використовувати valgrind для коду мовою Perl.
.PP
Код засобу інспектування перевірено за допомогою fuzz.
.PP
\&\f(CW\*(C`make\*(C'\fR більше не переходить рекурсивно до каталогу generator у кожному іншому каталозі. Це значно зменшує час збирання.
.PP
Додаткові тести для Augeas, hivex.
.PP
Додано час очікування на запуск у 20 хвилин для базової системи.
.PP
Додано час очікування (4 години) для усіх тестів, щоб можна було розібратися із випадком, коли повисає qemu або інші компоненти.
.PP
Реалізовано використання kvmclock і \f(CW\*(C`\-cpu host\*(C'\fR. Це поліпшує стабільність відліку часу та загальну швидкодію.
.PP
Виправлено режим \f(CW\*(C`./configure \-\-enable\-packet\-dump\*(C'\fR.
.PP
Переписано режим \f(CW\*(C`./configure \-\-enable\-valgrind\-daemon\*(C'\fR. Тепер розробники можуть використовувати цей прапорець увесь час.
.PP
Переписано модулі обробки так, щоб вони не залежали один від одного (хоча насправді вони не є завантажуваними модулями).
.PP
Якщо мережу увімкнено, використовуються налаштування визначення адрес (тобто /etc/resolv.conf) з основної системи.
.SS "Виправлені вади"
.IX Subsection "Виправлені вади"
.IP "https://bugzilla.redhat.com/1019889" 4
.IX Item "https://bugzilla.redhat.com/1019889"
libguestfs\-tools.conf потрібна сторінка man
.IP "https://bugzilla.redhat.com/1018149" 4
.IX Item "https://bugzilla.redhat.com/1018149"
Помилки valgrind у btrfs_subvolume_list
.IP "https://bugzilla.redhat.com/1002032" 4
.IX Item "https://bugzilla.redhat.com/1002032"
mke2fs can't return the correct filesystem type when blockscount is less than 2048 for ext3
.IP "https://bugzilla.redhat.com/1001876" 4
.IX Item "https://bugzilla.redhat.com/1001876"
Update \*(L"rsync-out\*(R" helpout for using wildcard
.IP "https://bugzilla.redhat.com/1001875" 4
.IX Item "https://bugzilla.redhat.com/1001875"
Argument 'excludes' of tar-out does not work
.IP "https://bugzilla.redhat.com/1000428" 4
.IX Item "https://bugzilla.redhat.com/1000428"
virt-format uses wrong partition type for vfat filesystems
.IP "https://bugzilla.redhat.com/1000121" 4
.IX Item "https://bugzilla.redhat.com/1000121"
\&'sh' command before mount causes daemon to segfault
.IP "https://bugzilla.redhat.com/998513" 4
.IX Item "https://bugzilla.redhat.com/998513"
guestfish does not work when you mix \-\-remote and \-\-add options
.IP "https://bugzilla.redhat.com/998482" 4
.IX Item "https://bugzilla.redhat.com/998482"
guestfish remote prints \*(L"libguestfs: error: waitpid (qemu): No child processes\*(R"
.IP "https://bugzilla.redhat.com/995711" 4
.IX Item "https://bugzilla.redhat.com/995711"
list-filesystems command fails if there are no block devices
.IP "https://bugzilla.redhat.com/994517" 4
.IX Item "https://bugzilla.redhat.com/994517"
cache=none/O_DIRECT workaround doesn't work for images with backing files
.IP "https://bugzilla.redhat.com/989356" 4
.IX Item "https://bugzilla.redhat.com/989356"
cap-get-file will return error if the file has not be set capabilities
.IP "https://bugzilla.redhat.com/986877" 4
.IX Item "https://bugzilla.redhat.com/986877"
\&\s-1RFE:\s0 Implement set-uuid command
.IP "https://bugzilla.redhat.com/986875" 4
.IX Item "https://bugzilla.redhat.com/986875"
\&\s-1RFE:\s0 Implement set-label for xfs
.IP "https://bugzilla.redhat.com/985269" 4
.IX Item "https://bugzilla.redhat.com/985269"
Can't set acl value for a specified user with 'acl\-set\-file'
.IP "https://bugzilla.redhat.com/983218" 4
.IX Item "https://bugzilla.redhat.com/983218"
libguestfs double free when kernel link fails during launch
.IP "https://bugzilla.redhat.com/981715" 4
.IX Item "https://bugzilla.redhat.com/981715"
Make xfs filesystem failed with specified blocksize, gives \*(L"unknown option \-b\*(R" error
.IP "https://bugzilla.redhat.com/981683" 4
.IX Item "https://bugzilla.redhat.com/981683"
\&\*(L"hivex-commit\*(R" should fail with a relative path
.IP "https://bugzilla.redhat.com/981663" 4
.IX Item "https://bugzilla.redhat.com/981663"
disk-format \*(L"qemu-img info: \s-1JSON\s0 parse error\*(R" when target file does not exist
.IP "https://bugzilla.redhat.com/978302" 4
.IX Item "https://bugzilla.redhat.com/978302"
mke2fs\-J should give a meaningful error when specified type is anything except 'ext{2,3,4}'
.IP "https://bugzilla.redhat.com/975797" 4
.IX Item "https://bugzilla.redhat.com/975797"
Specifying virtio interface ('iface' parameter) breaks the direct backend \- libguestfs hangs
.IP "https://bugzilla.redhat.com/975753" 4
.IX Item "https://bugzilla.redhat.com/975753"
\&\*(L"virt-resize \-\-expand\*(R" and \*(L"virt-resize \-\-resize\*(R" outputs error message for Win2008 32bit \s-1OS\s0
.IP "https://bugzilla.redhat.com/975412" 4
.IX Item "https://bugzilla.redhat.com/975412"
inspection: Augeas expressions are broken with augeas >= 0.10
.IP "https://bugzilla.redhat.com/974904" 4
.IX Item "https://bugzilla.redhat.com/974904"
virt-resize \-\-expand fails on Ubuntu Cloud Image
.IP "https://bugzilla.redhat.com/974489" 4
.IX Item "https://bugzilla.redhat.com/974489"
Regression: Fedora inspection broken by change from guestfs_exists to guestfs_is_file
.IP "https://bugzilla.redhat.com/972775" 4
.IX Item "https://bugzilla.redhat.com/972775"
txz-out command produces a bzip2\-compressed file (should be xz-compressed)
.IP "https://bugzilla.redhat.com/969845" 4
.IX Item "https://bugzilla.redhat.com/969845"
upload to a directory occasionally hangs instead of failing
.IP "https://bugzilla.redhat.com/968875" 4
.IX Item "https://bugzilla.redhat.com/968875"
virt-sysprep should support URL-type arguments
.IP "https://bugzilla.redhat.com/624334" 4
.IX Item "https://bugzilla.redhat.com/624334"
blockdev-setbsz succeeds, but does not affect blockdev-getbsz
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBguestfs\-examples\fR\|(1), \fBguestfs\-faq\fR\|(1), \fBguestfs\-performance\fR\|(1), \fBguestfs\-recipes\fR\|(1), \fBguestfs\-testing\fR\|(1), \fBguestfs\fR\|(3), \fBguestfish\fR\|(1), http://libguestfs.org/
.SH "АВТОР"
.IX Header "АВТОР"
Richard W.M. Jones
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
Copyright (C) 2009\-2023 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
