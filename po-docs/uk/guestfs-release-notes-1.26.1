.\" Automatically generated by Podwrapper::Man 1.44.1 (Pod::Simple 3.41)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "guestfs-release-notes-1.26 1"
.TH guestfs-release-notes-1.26 1 "2021-04-03" "libguestfs-1.44.1" "Virtualization Support"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "НАЗВА"
.IX Header "НАЗВА"
guestfs-release-notes \- нотатки щодо випусків libguestfs
.SH "НОТАТКИ ЩОДО ВИПУСКУ LIBGUESTFS 1.26"
.IX Header "НОТАТКИ ЩОДО ВИПУСКУ LIBGUESTFS 1.26"
Ці нотатки щодо випуску стосуються лише відмінностей від попереднього
стабільного випуску (1.24.0). Докладний журнал змін є частиною журналу змін
сховища git. Його також наведено у файлі ChangeLog, який є частиною архіву
tar із кодом бібліотеки.
.SS "Нові можливості"
.IX Subsection "Нові можливості"
\fIІнструменти\fR
.IX Subsection "Інструменти"
.PP
\&\fBvirt\-customize\fR\|(1) — новий інструмент для налаштовування образів дисків
віртуальної машини. За його допомогою ви можете встановлювати пакунки,
редагувати файли налаштувань, запускати скрипти, встановлювати паролі
тощо. \fBvirt\-builder\fR\|(1) і \fBvirt\-sysprep\fR\|(1) використовують
virt-customize. Параметри командного рядка усіх цих інструментів тепер є
ідентичними.
.PP
\&\fBvirt\-diff\fR\|(1) — новий інструмент для показу відмінностей між файловими
системами двох віртуальних машин. Основним його призначенням є показ файлів,
які було змінено між двома знімками віртуальної машини.
.PP
Значно розширено можливості \fBvirt\-builder\fR\|(1). Передбачено набагато більше
способів налаштовування віртуальної машини. Можливе отримання шаблонів з
декількох сховищ. Паралелізована внутрішня реалізація xzcat пришвидшує
розпаковування шаблонів. Virt-builder використовує оптимізований
планувальник для вибору найшвидшого способу побудови віртуальної
машини. Тепер простіше користуватися virt-builder з інших програм. Додано
підтримку перекладу метаданих. Реалізовано ефективнішу процедуру повторного
встановлення міток SELinux для файлів. Можлива побудова гостьових систем для
декількох архітектур. Поліпшено повідомлення щодо помилок. (Pino Toscano)
.PP
У \fBvirt\-sparsify\fR\|(1) передбачено новий параметр \fI\-\-in\-place\fR. Його
використання призводить до розрідження системи на місці (без її копіювання),
що набагато пришвидшує виконання завдання. (Значна допомога з боку Paolo
Bonzini)
.PP
\&\fBvirt\-sysprep\fR\|(1) може вилучати і витирати файли під керуванням
користувача. Ви можете заблокувати облікові записи користувачів або
встановити випадкові паролі для облікових записів. Можна вилучати більше
файлів журналу. Можна скасовувати передплату гостьових систем у Red Hat
Subscription Manager. Новий гнучкий спосіб вмикати і вимикати дії. (Wanlong
Gao, Pino Toscano)
.PP
У \fBvirt\-win\-reg\fR\|(1) передбачено можливість використовувати адреси для
визначення віддалених образів дисків.
.PP
\&\fBvirt\-format\fR\|(1) тепер може повертати отримане додаткове вільне місце
основній системі.
.PP
\&\fBguestfish\fR\|(1) має додаткові змінні середовища для надання можливості
точнішого налаштовування за допомогою запиту \f(CW\*(C`><fs>\*(C'\fR. Guestfish
тепер читає його (нечасто використовуваний) файл налаштувань у іншому
порядку так, що локальні параметри перевизначають загальні параметри. (Pino
Toscano)
.PP
\&\fBvirt\-make\-fs\fR\|(1) було переписано на C, але програма лишилася незмінною за
функціональними можливостями і використанням командного рядка.
.PP
\fIПрив’язки до мов програмування\fR
.IX Subsection "Прив’язки до мов програмування"
.PP
Прив'язки до OCaml містять новий модуль \f(CW\*(C`Guestfs.Errno\*(C'\fR, який
використовується для перевірки номерів помилок, які повертає
\&\f(CW\*(C`Guestfs.last_errno\*(C'\fR.
.PP
Відновлення працездатності тестів \s-1PHP.\s0 (Pino Toscano)
.PP
\fIПеревірка\fR
.IX Subsection "Перевірка"
.PP
Засіб інспектування тепер може розпізнавати образи портативних систем
Debian.
.PP
\fIАрхітектури\fR
.IX Subsection "Архітектури"
.PP
На ARMv7 (32\-бітових) тепер передбачено підтримку пришвидшення \s-1KVM.\s0
.PP
Передбачено підтримку Aarch64 (\s-1ARM\s0 64\-бітових), але частина, пов'язана із
базовою системою, ще не працює.
.PP
Виправлено і удосконалено підтримку \s-1PPC64.\s0
.SS "Безпека"
.IX Subsection "Безпека"
.IP "Відмова у обслуговуванні при інспектуванні образів дисків із пошкодженими томами btrfs" 4
.IX Item "Відмова у обслуговуванні при інспектуванні образів дисків із пошкодженими томами btrfs"
Можна було спричинити аварійне завершення роботи libguestfs (та програм, які
використовують libguestfs як бібліотеку) передаванням їм образу диска, на
якому містився пошкоджений том btrfs.
.Sp
Причиною було розіменування нульового вказівника, яке спричиняло відмову в
обслуговуванні. Ми вважаємо, що ширше використання цієї вразливості
неможливе.
.Sp
Див. внесок d70ceb4cbea165c960710576efac5a5716055486 із виправленням. Це
виправлено включено до стабільних гілок libguestfs ≥ 1.26.0, ≥ 1.24.6 та ≥ 1.22.8, а також до \s-1RHEL\s0 ≥ 7.0. Старіші версії
libguestfs не є вразливими.
.IP "Якісніше створення випадкових паролів root та породжувачів псевдовипадкових послідовностей" 4
.IX Item "Якісніше створення випадкових паролів root та породжувачів псевдовипадкових послідовностей"
Виявлено і виправлено дві пов'язаних із захистом вади під час створення
випадкових паролів root та породжувачів псевдовипадкових послідовностей
чисел. По\-перше, ми більше не читаємо зайві байти з \fI/dev/urandom\fR (більшу
частину даних з якого ми просто відкидали). По\-друге, ми змінили код, щоб
уникнути нерівномірного розподілу за лишками. Ми вважаємо, що цими
вразливостями не можна скористатися. (Обидві зміни запропоновано Edwin
Török)
.SS "\s-1API\s0"
.IX Subsection "API"
Тепер перевіряється коректність параметрів \s-1GUID,\s0 коли їх передають до
викликів програмного інтерфейсу. Раніше можна було передати довільний
рядок. (Pino Toscano)
.PP
\fIНові програмні інтерфейси\fR
.IX Subsection "Нові програмні інтерфейси"
.ie n .IP """guestfs_add_drive_opts"": новий параметр ""discard""" 4
.el .IP "\f(CWguestfs_add_drive_opts\fR: новий параметр \f(CWdiscard\fR" 4
.IX Item "guestfs_add_drive_opts: новий параметр discard"
За допомогою нового параметра \f(CW\*(C`discard\*(C'\fR можливий точніший контроль над
підтримкою відкидання та обрізання для певного диска. Це уможливлює
створення розрідженіших файлів у основній системі, коли ви вилучаєте файли
або надсилаєте виклик до програмного інтерфейсу \f(CW\*(C`guestfs_fstrim\*(C'\fR.
.ie n .IP """guestfs_add_domain"": нові параметри: ""cachemode"", ""discard""" 4
.el .IP "\f(CWguestfs_add_domain\fR: нові параметри: \f(CWcachemode\fR, \f(CWdiscard\fR" 4
.IX Item "guestfs_add_domain: нові параметри: cachemode, discard"
Ці параметри передаються під час додавання дисків домену.
.ie n .IP """guestfs_blkdiscard""" 4
.el .IP "\f(CWguestfs_blkdiscard\fR" 4
.IX Item "guestfs_blkdiscard"
Відкинути усі блоки на пристрої guestfs. У поєднанні із описаним вище
параметром \f(CW\*(C`discard\*(C'\fR це робить файл у основній системі розрідженим.
.ie n .IP """guestfs_blkdiscardzeroes""" 4
.el .IP "\f(CWguestfs_blkdiscardzeroes\fR" 4
.IX Item "guestfs_blkdiscardzeroes"
Для перевірки того, чи відкинуті блоки читаються як нульові.
.ie n .IP """guestfs_compare_*""" 4
.el .IP "\f(CWguestfs_compare_*\fR" 4
.IX Item "guestfs_compare_*"
.PD 0
.ie n .IP """guestfs_copy_*""" 4
.el .IP "\f(CWguestfs_copy_*\fR" 4
.IX Item "guestfs_copy_*"
.PD
Для усіх структури, повернути через програмний інтерфейс, libguestfs тепер
створює функції \f(CW\*(C`guestfs_compare_*\*(C'\fR і \f(CW\*(C`guestfs_copy_*\*(C'\fR, за допомогою яких
можна порівнювати і копіювати структури.
.ie n .IP """guestfs_copy_attributes""" 4
.el .IP "\f(CWguestfs_copy_attributes\fR" 4
.IX Item "guestfs_copy_attributes"
Копіювання атрибутів (зокрема прав доступу, xattrs, прав власності) з одного
файла до іншого. (Pino Toscano)
.ie n .IP """guestfs_disk_create""" 4
.el .IP "\f(CWguestfs_disk_create\fR" 4
.IX Item "guestfs_disk_create"
Гнучкий програмний інтерфейс для створення порожніх образів дисків з
нуля. Надає змогу обійтися без викликів зовнішніх програм, зокрема
\&\fBqemu\-img\fR\|(1).
.ie n .IP """guestfs_get_backend_settings""" 4
.el .IP "\f(CWguestfs_get_backend_settings\fR" 4
.IX Item "guestfs_get_backend_settings"
.PD 0
.ie n .IP """guestfs_set_backend_settings""" 4
.el .IP "\f(CWguestfs_set_backend_settings\fR" 4
.IX Item "guestfs_set_backend_settings"
.PD
Окремі параметри для різних модулів обробки (можна також встановити за
допомогою змінної середовища \f(CW\*(C`LIBGUESTFS_BACKEND_SETTINGS\*(C'\fR). Основним
призначенням є примусовий режим \s-1TCG\s0 у заснованих на qemu модулях
обробки. Приклад:
.Sp
.Vb 2
\& export LIBGUESTFS_BACKEND=direct
\& export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
.Ve
.ie n .IP """guestfs_part_get_name""" 4
.el .IP "\f(CWguestfs_part_get_name\fR" 4
.IX Item "guestfs_part_get_name"
Отримання мітки або назви розділу (для образів дисків \s-1GPT\s0).
.SS "Зміни у збиранні"
.IX Subsection "Зміни у збиранні"
Для збирання libguestfs 1.26 потрібні такі додаткові пакунки:
.IP "supermin ≥ 5" 4
.IX Item "supermin ≥ 5"
Для збирання цієї версії libguestfs потрібен supermin версії 5.
.IP "flex, bison" 4
.IX Item "flex, bison"
Virt-builder тепер використовує справжній засіб обробки для свого файла
метаданих, отже ці інструменти тепер є обов'язковими.
.IP "xz" 4
.IX Item "xz"
Тепер це обов'язкова частина для збирання там, де раніше (теоретично) вона
була необов'язковою.
.SS "Внутрішня частина роботи програми"
.IX Subsection "Внутрішня частина роботи програми"
Переписано засіб видобування повідомлень \s-1PO,\s0 що мало зробити його
стійкішим. (Pino Toscano)
.PP
\&\f(CW\*(C`podwrapper\*(C'\fR повідомляє про помилку, якщо не знайдено аргумент зразка для
\&\fI\-\-insert\fR або \fI\-\-verbatim\fR.
.PP
Libguestfs тепер передає параметр qemu \fI\-enable\-fips\fR для вмикання \s-1FIPS,\s0
якщо у qemu передбачено його підтримку.
.PP
Якщо ви не хочете вказувати типовий гіпервізор, можете скористатися
\&\f(CW\*(C`./configure \-\-without\-qemu\*(C'\fR.
.PP
Накладки copy-on-write [\s-1COW\s0], які використовуються, наприклад, для придатних
лише для читання дисків, тепер створюються за допомогою вбудованого
програмного інтерфейсу (\f(CW\*(C`.create_cow_overlay\*(C'\fR).
.PP
Модуль обробки libvirt використовує якийсь вигадливий макрос C для створення
\&\s-1XML.\s0 Ці є простішими і безпечнішими.
.PP
Було змінено формат файла ChangeLog. Тепер він такий самий як у \f(CW\*(C`git
log\*(C'\fR. Нетиповий формат більше не використовується.
.PP
Змінено процедуру запуску базової системи:
.IP "\(bu" 4
Базова система libguestfs тепер ініціалізує \s-1LVM\s0 у той самий спосіб, у який
це робиться на фізичних машинах.
.IP "\(bu" 4
Базова система libguestfs не записує порожній рядок до
\&\fI/proc/sys/kernel/hotplug\fR під час запуску.
.Sp
Зауважте, що вам \fBслід\fR налаштувати ваше ядро так, щоб у ньому було
\&\f(CW\*(C`CONFIG_UEVENT_HELPER_PATH=""\*(C'\fR, інакше ви матимете справу із дивними
помилками \s-1LVM\s0 (це стосується будь\-якої машини Linux, не лише
libguestfs). (Peter Rajnoha)
.PP
Libguestfs тепер можна зібрати на архітектурах, де є \fBocamlc\fR\|(1), але немає
\&\fBocamlopt\fR\|(1). (Hilko Bengen, Olaf Hering)
.PP
Не можна використовувати \f(CW\*(C`./configure \-\-disable\-daemon
\&\-\-enable\-appliance\*(C'\fR. Така комбінація усе одно не мала сенсу. Тепер її
заборонено явним чином у скрипті configure.
.PP
Файл packagelist використовує \f(CW\*(C`m4\*(C'\fR для розгортання макросів замість \f(CW\*(C`cpp\*(C'\fR.
.SS "Виправлені вади"
.IX Subsection "Виправлені вади"
.IP "https://bugzilla.redhat.com/1073906" 4
.IX Item "https://bugzilla.redhat.com/1073906"
java bindings inspect_list_applications2 throws
java.lang.ArrayIndexOutOfBoundsException:
.IP "https://bugzilla.redhat.com/1063374" 4
.IX Item "https://bugzilla.redhat.com/1063374"
[\s-1RFE\s0] enable subscription manager clean or unregister operation to sysprep
.IP "https://bugzilla.redhat.com/1060404" 4
.IX Item "https://bugzilla.redhat.com/1060404"
virt-resize does not preserve \s-1GPT\s0 partition names
.IP "https://bugzilla.redhat.com/1057504" 4
.IX Item "https://bugzilla.redhat.com/1057504"
mount-local should give a clearer error if root is not mounted
.IP "https://bugzilla.redhat.com/1056290" 4
.IX Item "https://bugzilla.redhat.com/1056290"
virt-sparsify overwrites block devices if used as output files
.IP "https://bugzilla.redhat.com/1055452" 4
.IX Item "https://bugzilla.redhat.com/1055452"
libguestfs: error: invalid backend: appliance
.IP "https://bugzilla.redhat.com/1054761" 4
.IX Item "https://bugzilla.redhat.com/1054761"
guestfs_pvs prints \*(L"unknown device\*(R" if a physical volume is missing
.IP "https://bugzilla.redhat.com/1053847" 4
.IX Item "https://bugzilla.redhat.com/1053847"
Recommended default clock/timer settings
.IP "https://bugzilla.redhat.com/1046509" 4
.IX Item "https://bugzilla.redhat.com/1046509"
ruby-libguestfs throws \*(L"expecting 0 or 1 arguments\*(R" on Guestfs::Guestfs.new
.IP "https://bugzilla.redhat.com/1045450" 4
.IX Item "https://bugzilla.redhat.com/1045450"
Cannot inspect cirros 0.3.1 disk image fully
.IP "https://bugzilla.redhat.com/1045033" 4
.IX Item "https://bugzilla.redhat.com/1045033"
LIBVIRT_DEFAULT_URI=qemu:///system breaks libguestfs
.IP "https://bugzilla.redhat.com/1044585" 4
.IX Item "https://bugzilla.redhat.com/1044585"
virt-builder network (eg. \-\-install) doesn't work if resolv.conf sets
nameserver 127.0.0.1
.IP "https://bugzilla.redhat.com/1044014" 4
.IX Item "https://bugzilla.redhat.com/1044014"
When \s-1SSSD\s0 is installed, libvirt configuration requires authentication, but
not clear to user
.IP "https://bugzilla.redhat.com/1039995" 4
.IX Item "https://bugzilla.redhat.com/1039995"
virt-make-fs fails making fat/vfat whole disk: Device partition expected,
not making filesystem on entire device '/dev/sda' (use \-I to override)
.IP "https://bugzilla.redhat.com/1039540" 4
.IX Item "https://bugzilla.redhat.com/1039540"
virt-sysprep to delete more logfiles
.IP "https://bugzilla.redhat.com/1033207" 4
.IX Item "https://bugzilla.redhat.com/1033207"
\&\s-1RFE:\s0 libguestfs inspection does not recognize Free4NAS live \s-1CD\s0
.IP "https://bugzilla.redhat.com/1028660" 4
.IX Item "https://bugzilla.redhat.com/1028660"
\&\s-1RFE:\s0 virt\-sysprep/virt\-builder повинні мати можливість блокувати обліковий
запис користувача
.IP "https://bugzilla.redhat.com/1026688" 4
.IX Item "https://bugzilla.redhat.com/1026688"
libguestfs fails examining libvirt guest with ceph drives: rbd: image name
must begin with a '/'
.IP "https://bugzilla.redhat.com/1022431" 4
.IX Item "https://bugzilla.redhat.com/1022431"
virt-builder не працює, якщо не існує \f(CW$HOME\fR/.cache
.IP "https://bugzilla.redhat.com/1022184" 4
.IX Item "https://bugzilla.redhat.com/1022184"
libguestfs: не слід використовувати файл jar із зазначенням версії
.IP "https://bugzilla.redhat.com/1020806" 4
.IX Item "https://bugzilla.redhat.com/1020806"
Усі дії libguestfs із \s-1LVM\s0 завершуються невдало у Debian/Ubuntu
.IP "https://bugzilla.redhat.com/1008417" 4
.IX Item "https://bugzilla.redhat.com/1008417"
Need update helpout of part-set-gpt-type
.IP "https://bugzilla.redhat.com/953907" 4
.IX Item "https://bugzilla.redhat.com/953907"
virt-sysprep does not correctly set the hostname on Debian/Ubuntu
.IP "https://bugzilla.redhat.com/923355" 4
.IX Item "https://bugzilla.redhat.com/923355"
guestfish виводить у повідомленнях про помилки «\en» буквально
.IP "https://bugzilla.redhat.com/660687" 4
.IX Item "https://bugzilla.redhat.com/660687"
guestmount: \*(L"touch\*(R" command fails: touch: setting times of `timestamp':
Invalid argument
.IP "https://bugzilla.redhat.com/593511" 4
.IX Item "https://bugzilla.redhat.com/593511"
[\s-1RFE\s0] function to get partition name
.IP "https://bugzilla.redhat.com/563450" 4
.IX Item "https://bugzilla.redhat.com/563450"
list-devices returns devices of different types out of order
.SH "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
.IX Header "ТАКОЖ ПЕРЕГЛЯНЬТЕ"
\&\fBguestfs\-examples\fR\|(1), \fBguestfs\-faq\fR\|(1), \fBguestfs\-performance\fR\|(1),
\&\fBguestfs\-recipes\fR\|(1), \fBguestfs\-testing\fR\|(1), \fBguestfs\fR\|(3),
\&\fBguestfish\fR\|(1), http://libguestfs.org/
.SH "АВТОР"
.IX Header "АВТОР"
Richard W.M. Jones
.SH "АВТОРСЬКІ ПРАВА"
.IX Header "АВТОРСЬКІ ПРАВА"
Copyright (C) 2009\-2020 Red Hat Inc.
.SH "LICENSE"
.IX Header "LICENSE"
.SH "BUGS"
.IX Header "BUGS"
To get a list of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools
.PP
To report a new bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools
.PP
When reporting a bug, please supply:
.IP "\(bu" 4
The version of libguestfs.
.IP "\(bu" 4
Where you got libguestfs (eg. which Linux distro, compiled from source, etc)
.IP "\(bu" 4
Describe the bug accurately and give a way to reproduce it.
.IP "\(bu" 4
Run \fBlibguestfs\-test\-tool\fR\|(1) and paste the \fBcomplete, unedited\fR
output into the bug report.
